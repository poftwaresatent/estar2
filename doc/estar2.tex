\documentclass[twocolumn]{article}

\usepackage[noend]{algorithmic}
\usepackage{algorithm,amsmath,booktabs}

\floatname{algorithm}{Procedure}
\renewcommand{\thealgorithm}{}

\newcommand{\rhs}{\text{rhs}}
\newcommand{\key}{\text{key}}


\begin{document}

\title{E$^\ast$ v2}
\author{Roland Philippsen, Halmstad University}
\maketitle

\begin{algorithm}
  \caption{Main}
  \begin{algorithmic}
    \STATE Initialize($g$)
    \LOOP
      \STATE ProcessChanges()
      \STATE Propagate()
      \IF { TopKey($Q$) $> v(r)$ }
        \STATE status $\leftarrow$ \textsc{Success}
      \ELSIF { Empty($Q$) }
        \STATE status $\leftarrow$ \textsc{Failure}
      \ELSE
        \STATE status $\leftarrow$ \textsc{Pending}
      \ENDIF
    \ENDLOOP
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{Propagate}
  \begin{algorithmic}
    \IF { not Empty($Q$) }
      \STATE $x \leftarrow$ Extract($Q$)
      \IF { $v(x) > \rhs(x)$ }
        \STATE $v(x) \leftarrow \rhs(x)$
        \FORALL { $n \in N(x)$ }
          \STATE Update($n$)
        \ENDFOR
      \ELSE
        \STATE $v(x) \leftarrow \infty$
        \FORALL { $n \in N(x)$ }
          \STATE Update($n$)
        \ENDFOR
        \STATE Update($x$)
      \ENDIF
    \ENDIF
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{Update($x$)}
  \begin{algorithmic}
    \IF { $x \in O$ or $x = g$ }
      \STATE Remove($Q, x$)
    \ELSE
      \STATE $\rhs(x) \leftarrow \min_{\{a,b\} \in P(x)} T(v(a),v(b))$
      \IF { $v(x) \ne \rhs(x)$ }
        \STATE Insert($Q, x$)
      \ELSE
        \STATE Remove($Q, x$)
      \ENDIF
    \ENDIF
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{ProcessChanges()}
  \begin{algorithmic}
    \STATE blah
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{Initialize($g$)}
  \begin{algorithmic}
    \FORALL { $x \in$ grid }
      \STATE $c(x) \leftarrow 1$
      \STATE $v(x) \leftarrow \infty$
      \STATE $rhs(x) \leftarrow \infty$
      \STATE $key(x) \leftarrow \infty$
    \ENDFOR
    \STATE $Q \leftarrow \{\}$
    \STATE $rhs(g) \leftarrow 0$
    \STATE Insert($Q,g$)
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{SetSpeed($x, T$)}
  \begin{algorithmic}
    \IF { $x \neq g$ }
      \IF { $F = 0$ }
        \STATE $c(x) \leftarrow \infty$
        \STATE $v(x) \leftarrow \infty$
        \STATE $rhs(x) \leftarrow \infty$
        \STATE $O \leftarrow O \cup {x}$
      \ELSE
        \STATE $c(x) \leftarrow 1/T$
        \STATE $O \leftarrow O \\ x$
      \ENDIF
      \STATE Update($x$)
      \FORALL { $n \in N(x)$ }
        \STATE Update($n$)
      \ENDFOR
    \ENDIF
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}
  \caption{SetGoal($x$)}
  \begin{algorithmic}
    \STATE $g \leftarrow x$
    \FORALL { $x \in$ grid }
      \STATE
      \COMMENT { note that $c(x)$ remains unchanged }
      \STATE $v(x) \leftarrow \infty$
      \STATE $rhs(x) \leftarrow \infty$
      \STATE $key(x) \leftarrow \infty$
    \ENDFOR
    \STATE $Q \leftarrow \{\}$
    \STATE $rhs(g) \leftarrow 0$
    \STATE Insert($Q,g$)
  \end{algorithmic}
\end{algorithm}

\begin{equation}
  T(A,B) =
  \begin{cases}
    A + h/F                                & \Leftarrow h/F \leq B-A \\
    \big(\beta + \sqrt{\beta^2 - 2\gamma}\big) / 2 & \text{otherwise}
  \end{cases}
\end{equation}
\noindent where
\begin{subequations}
  \begin{align}
    \beta &= A + B \\
    \gamma &= A^2 + B^2 - h^2/F^2
  \end{align}
\end{subequations}

\begin{table}
  \centering
  \begin{tabular}{@{}p{0.29\columnwidth}p{0.67\columnwidth}@{}}
    \toprule
    Procedure & Description \\
    \midrule
    TopKey($Q$)    & return the key of the topmost queue item, or $\infty$ if the queue is empty \\
    Empty($Q$)     & return \textsc{true} if the queue is empty, \textsc{false} otherwise \\
    Extract($Q$)   & remove (and return) the topmost item from the queue \\
    Remove($Q, x$) & if $x\in Q$ then remove $x$ from queue, else ignore \\
    Insert($Q, x$) & if $x\notin Q$ then insert it into the queue, else update $\key(x)$ and re-order the queue accordingly \\
    \bottomrule
  \end{tabular}
\end{table}

\begin{table}
  \centering
  \begin{tabular}{@{}p{0.14\columnwidth}p{0.83\columnwidth}@{}}
    \toprule
    Notation & Meaning \\
    \midrule
    $x$       & a grid cell \\
    $r$       & the grid cell corresponding to the current location of the robot \\
    $g$       & the grid cell corresponding to the goal location \\
    $Q$       & priority queue of cells to be expanded \\
    $O$       & set of obstacle cells; see procedure SetSpeed($x, F$) \\
    $c(x)$    & $=1/F$ where $F>0$ is the propagation speed; obstacles (with $F=0$) are handled specially \\
    $v(x)$    & crossing-time value of grid cell $x$; elsewhere denoted $T_{ij}$, $g(x)$, $\Phi(x)$, \ldots \\
    $\rhs(x)$ & one-step lookahead of $v(x)$; like D$^\ast$, the algorithm proceeds until $v(x) = \rhs(x) \;\forall$ ``$x$ that matter'' \\
    $\key(x)$ &  $= \min (v(x), \rhs(x))$; the queue is ordered by ascending $\key(x)$ \\
    $N(x)$    & set of neighbors of grid cell $x$ \\
    \bottomrule
  \end{tabular}
\end{table}

\end{document}
